<!DOCTYPE html>
<html>
<head>
    <title>Wallet Button Test</title>
    <script>
        async function testWalletButton() {
            try {
                console.log('Loading app page...');
                
                // Open the app in an iframe to test
                const iframe = document.createElement('iframe');
                iframe.src = 'http://165.22.136.40:5173';
                iframe.style.width = '100%';
                iframe.style.height = '600px';
                document.body.appendChild(iframe);
                
                iframe.onload = () => {
                    console.log('App loaded in iframe');
                    
                    // Wait a bit then try to access the iframe content
                    setTimeout(() => {
                        try {
                            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                            
                            // Look for wallet connect buttons
                            const buttons = iframeDoc.querySelectorAll('button');
                            console.log(`Found ${buttons.length} buttons`);
                            
                            buttons.forEach((btn, index) => {
                                const text = btn.textContent?.trim();
                                if (text && (text.includes('Connect') || text.includes('Wallet'))) {
                                    console.log(`Button ${index}: "${text}"`);
                                    
                                    // Try to click the button
                                    console.log('Attempting to click wallet button...');
                                    btn.click();
                                    
                                    // Check for modal after click
                                    setTimeout(() => {
                                        const modal = iframeDoc.querySelector('.wallet-adapter-modal');
                                        if (modal) {
                                            console.log('✅ Wallet modal found!');
                                        } else {
                                            console.log('❌ No wallet modal found');
                                        }
                                    }, 1000);
                                }
                            });
                            
                        } catch (err) {
                            console.log('Cross-origin error (expected):', err.message);
                        }
                    }, 3000);
                };
            } catch (error) {
                console.error('Test error:', error);
            }
        }
        
        window.onload = testWalletButton;
    </script>
</head>
<body>
    <h1>Wallet Button Test</h1>
    <p>Check console for results...</p>
</body>
</html>