import{j as $}from"./index-Bul0erR2.js";import{b as J,P as q}from"./index.browser.esm-DNRWAZxU.js";import"./index-D_tACJZa.js";var M={exports:{}},D;function Q(){return D||(D=1,(function(l){var s=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function i(u,t,o){this.fn=u,this.context=t,this.once=o||!1}function r(u,t,o,a,w){if(typeof o!="function")throw new TypeError("The listener must be a function");var _=new i(o,a||u,w),p=e?e+t:t;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],_]:u._events[p].push(_):(u._events[p]=_,u._eventsCount++),u}function h(u,t){--u._eventsCount===0?u._events=new n:delete u._events[t]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var t=[],o,a;if(this._eventsCount===0)return t;for(a in o=this._events)s.call(o,a)&&t.push(e?a.slice(1):a);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(o)):t},f.prototype.listeners=function(t){var o=e?e+t:t,a=this._events[o];if(!a)return[];if(a.fn)return[a.fn];for(var w=0,_=a.length,p=new Array(_);w<_;w++)p[w]=a[w].fn;return p},f.prototype.listenerCount=function(t){var o=e?e+t:t,a=this._events[o];return a?a.fn?1:a.length:0},f.prototype.emit=function(t,o,a,w,_,p){var v=e?e+t:t;if(!this._events[v])return!1;var c=this._events[v],b=arguments.length,y,d;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),b){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,o),!0;case 3:return c.fn.call(c.context,o,a),!0;case 4:return c.fn.call(c.context,o,a,w),!0;case 5:return c.fn.call(c.context,o,a,w,_),!0;case 6:return c.fn.call(c.context,o,a,w,_,p),!0}for(d=1,y=new Array(b-1);d<b;d++)y[d-1]=arguments[d];c.fn.apply(c.context,y)}else{var m=c.length,g;for(d=0;d<m;d++)switch(c[d].once&&this.removeListener(t,c[d].fn,void 0,!0),b){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,o);break;case 3:c[d].fn.call(c[d].context,o,a);break;case 4:c[d].fn.call(c[d].context,o,a,w);break;default:if(!y)for(g=1,y=new Array(b-1);g<b;g++)y[g-1]=arguments[g];c[d].fn.apply(c[d].context,y)}}return!0},f.prototype.on=function(t,o,a){return r(this,t,o,a,!1)},f.prototype.once=function(t,o,a){return r(this,t,o,a,!0)},f.prototype.removeListener=function(t,o,a,w){var _=e?e+t:t;if(!this._events[_])return this;if(!o)return h(this,_),this;var p=this._events[_];if(p.fn)p.fn===o&&(!w||p.once)&&(!a||p.context===a)&&h(this,_);else{for(var v=0,c=[],b=p.length;v<b;v++)(p[v].fn!==o||w&&!p[v].once||a&&p[v].context!==a)&&c.push(p[v]);c.length?this._events[_]=c.length===1?c[0]:c:h(this,_)}return this},f.prototype.removeAllListeners=function(t){var o;return t?(o=e?e+t:t,this._events[o]&&h(this,o)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=e,f.EventEmitter=f,l.exports=f})(M)),M.exports}var V=Q();const B=$(V);var X=(function(){var l=function(s,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},l(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");l(s,e);function n(){this.constructor=s}s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}})(),F=(function(l){X(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s})(B),I={exports:{}},z;function Y(){return z||(z=1,(function(l){var s=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function i(u,t,o){this.fn=u,this.context=t,this.once=o||!1}function r(u,t,o,a,w){if(typeof o!="function")throw new TypeError("The listener must be a function");var _=new i(o,a||u,w),p=e?e+t:t;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],_]:u._events[p].push(_):(u._events[p]=_,u._eventsCount++),u}function h(u,t){--u._eventsCount===0?u._events=new n:delete u._events[t]}function f(){this._events=new n,this._eventsCount=0}f.prototype.eventNames=function(){var t=[],o,a;if(this._eventsCount===0)return t;for(a in o=this._events)s.call(o,a)&&t.push(e?a.slice(1):a);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(o)):t},f.prototype.listeners=function(t){var o=e?e+t:t,a=this._events[o];if(!a)return[];if(a.fn)return[a.fn];for(var w=0,_=a.length,p=new Array(_);w<_;w++)p[w]=a[w].fn;return p},f.prototype.listenerCount=function(t){var o=e?e+t:t,a=this._events[o];return a?a.fn?1:a.length:0},f.prototype.emit=function(t,o,a,w,_,p){var v=e?e+t:t;if(!this._events[v])return!1;var c=this._events[v],b=arguments.length,y,d;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),b){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,o),!0;case 3:return c.fn.call(c.context,o,a),!0;case 4:return c.fn.call(c.context,o,a,w),!0;case 5:return c.fn.call(c.context,o,a,w,_),!0;case 6:return c.fn.call(c.context,o,a,w,_,p),!0}for(d=1,y=new Array(b-1);d<b;d++)y[d-1]=arguments[d];c.fn.apply(c.context,y)}else{var m=c.length,g;for(d=0;d<m;d++)switch(c[d].once&&this.removeListener(t,c[d].fn,void 0,!0),b){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,o);break;case 3:c[d].fn.call(c[d].context,o,a);break;case 4:c[d].fn.call(c[d].context,o,a,w);break;default:if(!y)for(g=1,y=new Array(b-1);g<b;g++)y[g-1]=arguments[g];c[d].fn.apply(c[d].context,y)}}return!0},f.prototype.on=function(t,o,a){return r(this,t,o,a,!1)},f.prototype.once=function(t,o,a){return r(this,t,o,a,!0)},f.prototype.removeListener=function(t,o,a,w){var _=e?e+t:t;if(!this._events[_])return this;if(!o)return h(this,_),this;var p=this._events[_];if(p.fn)p.fn===o&&(!w||p.once)&&(!a||p.context===a)&&h(this,_);else{for(var v=0,c=[],b=p.length;v<b;v++)(p[v].fn!==o||w&&!p[v].once||a&&p[v].context!==a)&&c.push(p[v]);c.length?this._events[_]=c.length===1?c[0]:c:h(this,_)}return this},f.prototype.removeAllListeners=function(t){var o;return t?(o=e?e+t:t,this._events[o]&&h(this,o)):(this._events=new n,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=e,f.EventEmitter=f,l.exports=f})(I)),I.exports}var Z=Y();const ee=$(Z);var R,N;function te(){if(N)return R;N=1;var l=J().Buffer;function s(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var r=0;r<e.length;r++){var h=e.charAt(r),f=h.charCodeAt(0);if(n[f]!==255)throw new TypeError(h+" is ambiguous");n[f]=r}var u=e.length,t=e.charAt(0),o=Math.log(u)/Math.log(256),a=Math.log(256)/Math.log(u);function w(v){if((Array.isArray(v)||v instanceof Uint8Array)&&(v=l.from(v)),!l.isBuffer(v))throw new TypeError("Expected Buffer");if(v.length===0)return"";for(var c=0,b=0,y=0,d=v.length;y!==d&&v[y]===0;)y++,c++;for(var m=(d-y)*a+1>>>0,g=new Uint8Array(m);y!==d;){for(var x=v[y],O=0,A=m-1;(x!==0||O<b)&&A!==-1;A--,O++)x+=256*g[A]>>>0,g[A]=x%u>>>0,x=x/u>>>0;if(x!==0)throw new Error("Non-zero carry");b=O,y++}for(var E=m-b;E!==m&&g[E]===0;)E++;for(var k=t.repeat(c);E<m;++E)k+=e.charAt(g[E]);return k}function _(v){if(typeof v!="string")throw new TypeError("Expected String");if(v.length===0)return l.alloc(0);for(var c=0,b=0,y=0;v[c]===t;)b++,c++;for(var d=(v.length-c)*o+1>>>0,m=new Uint8Array(d);c<v.length;){var g=v.charCodeAt(c);if(g>255)return;var x=n[g];if(x===255)return;for(var O=0,A=d-1;(x!==0||O<y)&&A!==-1;A--,O++)x+=u*m[A]>>>0,m[A]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");y=O,c++}for(var E=d-y;E!==d&&m[E]===0;)E++;var k=l.allocUnsafe(b+(d-E));k.fill(0,0,b);for(var G=b;E!==d;)k[G++]=m[E++];return k}function p(v){var c=_(v);if(c)return c;throw new Error("Non-base"+u+" character")}return{encode:w,decodeUnsafe:_,decode:p}}return R=s,R}var W,H;function ne(){if(H)return W;H=1;var l=te(),s="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return W=l(s),W}var re=ne();const T=$(re);var j=function(l,s,e,n){function i(r){return r instanceof e?r:new e(function(h){h(r)})}return new(e||(e=Promise))(function(r,h){function f(o){try{t(n.next(o))}catch(a){h(a)}}function u(o){try{t(n.throw(o))}catch(a){h(a)}}function t(o){o.done?r(o.value):i(o.value).then(f,u)}t((n=n.apply(l,s||[])).next())})};class ie extends ee{constructor(s,e){if(super(),this._network=e,this._publicKey=null,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._autoApprove=!1,this._responsePromises=new Map,this.handleMessage=n=>{var i;if(this._injectedProvider&&n.source===window||n.origin===((i=this._providerUrl)===null||i===void 0?void 0:i.origin)&&n.source===this._popup){if(n.data.method==="connected"){const r=new q(n.data.params.publicKey);(!this._publicKey||!this._publicKey.equals(r))&&(this._publicKey&&!this._publicKey.equals(r)&&this.handleDisconnect(),this._publicKey=r,this._autoApprove=!!n.data.params.autoApprove,this.emit("connect",this._publicKey))}else if(n.data.method==="disconnected")this.handleDisconnect();else if(n.data.result||n.data.error){const r=this._responsePromises.get(n.data.id);if(r){const[h,f]=r;n.data.result?h(n.data.result):f(new Error(n.data.error))}}}},this._beforeUnload=()=>{this.disconnect()},se(s))this._injectedProvider=s;else if(oe(s))this._providerUrl=new URL(s),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:this._network}).toString();else throw new Error("provider parameter must be an injected provider or a URL string.")}handleConnect(){var s;return this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this.handleMessage),window.addEventListener("beforeunload",this._beforeUnload)),this._injectedProvider?new Promise(e=>{this.sendRequest("connect",{}),e()}):(window.name="parent",this._popup=window.open((s=this._providerUrl)===null||s===void 0?void 0:s.toString(),"_blank","location,resizable,width=460,height=675"),new Promise(e=>{this.once("connect",e)}))}handleDisconnect(){this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this.handleMessage),window.removeEventListener("beforeunload",this._beforeUnload)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach(([,s],e)=>{this._responsePromises.delete(e),s(new Error("Wallet disconnected"))})}sendRequest(s,e){return j(this,void 0,void 0,function*(){if(s!=="connect"&&!this.connected)throw new Error("Wallet not connected");const n=this._nextRequestId;return++this._nextRequestId,new Promise((i,r)=>{var h,f,u,t;this._responsePromises.set(n,[i,r]),this._injectedProvider?this._injectedProvider.postMessage({jsonrpc:"2.0",id:n,method:s,params:Object.assign({network:this._network},e)}):((h=this._popup)===null||h===void 0||h.postMessage({jsonrpc:"2.0",id:n,method:s,params:e},(u=(f=this._providerUrl)===null||f===void 0?void 0:f.origin)!==null&&u!==void 0?u:""),this.autoApprove||(t=this._popup)===null||t===void 0||t.focus())})})}get publicKey(){return this._publicKey}get connected(){return this._publicKey!==null}get autoApprove(){return this._autoApprove}connect(){return j(this,void 0,void 0,function*(){this._popup&&this._popup.close(),yield this.handleConnect()})}disconnect(){return j(this,void 0,void 0,function*(){this._injectedProvider&&(yield this.sendRequest("disconnect",{})),this._popup&&this._popup.close(),this.handleDisconnect()})}sign(s,e){return j(this,void 0,void 0,function*(){if(!(s instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const n=yield this.sendRequest("sign",{data:s,display:e}),i=T.decode(n.signature),r=new q(n.publicKey);return{signature:i,publicKey:r}})}signTransaction(s){return j(this,void 0,void 0,function*(){const e=yield this.sendRequest("signTransaction",{message:T.encode(s.serializeMessage())}),n=T.decode(e.signature),i=new q(e.publicKey);return s.addSignature(i,n),s})}signAllTransactions(s){return j(this,void 0,void 0,function*(){const e=yield this.sendRequest("signAllTransactions",{messages:s.map(r=>T.encode(r.serializeMessage()))}),n=e.signatures.map(r=>T.decode(r)),i=new q(e.publicKey);return s=s.map((r,h)=>(r.addSignature(i,n[h]),r)),s})}diffieHellman(s){return j(this,void 0,void 0,function*(){if(!(s instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");return yield this.sendRequest("diffieHellman",{publicKey:s})})}}function oe(l){return typeof l=="string"}function se(l){return ce(l)&&"postMessage"in l&&typeof l.postMessage=="function"}function ce(l){return typeof l=="object"&&l!==null}var ae=(function(){var l=function(s,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},l(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");l(s,e);function n(){this.constructor=s}s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}})(),C=function(l,s,e,n){function i(r){return r instanceof e?r:new e(function(h){h(r)})}return new(e||(e=Promise))(function(r,h){function f(o){try{t(n.next(o))}catch(a){h(a)}}function u(o){try{t(n.throw(o))}catch(a){h(a)}}function t(o){o.done?r(o.value):i(o.value).then(f,u)}t((n=n.apply(l,s||[])).next())})},K=function(l,s){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,i,r,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(t){return function(o){return u([t,o])}}function u(t){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(r=t[0]&2?i.return:t[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,t[1])).done)return r;switch(i=0,r&&(t=[t[0]&2,r.value]),t[0]){case 0:case 1:r=t;break;case 4:return e.label++,{value:t[1],done:!1};case 5:e.label++,i=t[1],t=[0];continue;case 7:t=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(t[0]===6||t[0]===2)){e=0;continue}if(t[0]===3&&(!r||t[1]>r[0]&&t[1]<r[3])){e.label=t[1];break}if(t[0]===6&&e.label<r[1]){e.label=r[1],r=t;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(t);break}r[2]&&e.ops.pop(),e.trys.pop();continue}t=s.call(l,e)}catch(o){t=[6,o],i=0}finally{n=r=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}},ue=(function(l){ae(s,l);function s(e,n){var i=l.call(this)||this;return i._instance=null,i._handleConnect=function(){i.emit("connect")},i._handleDisconnect=function(){window.clearInterval(i._pollTimer),i.emit("disconnect")},i._provider=e,i._network=n,i}return Object.defineProperty(s.prototype,"publicKey",{get:function(){return this._instance.publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"connected",{get:function(){return this._instance.connected||!1},enumerable:!1,configurable:!0}),s.prototype.connect=function(){return C(this,void 0,void 0,function(){var e=this;return K(this,function(n){switch(n.label){case 0:return this._instance=new ie(this._provider,this._network),this._instance.on("connect",this._handleConnect),this._instance.on("disconnect",this._handleDisconnect),this._pollTimer=window.setInterval(function(){var i,r;((r=(i=e._instance)===null||i===void 0?void 0:i._popup)===null||r===void 0?void 0:r.closed)!==!1&&e._handleDisconnect()},200),[4,this._instance.connect()];case 1:return n.sent(),[2]}})})},s.prototype.disconnect=function(){return C(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return this._instance.removeAllListeners("connect"),this._instance.removeAllListeners("disconnect"),[4,this._instance.disconnect()];case 1:return e.sent(),[2]}})})},s.prototype.signTransaction=function(e){return C(this,void 0,void 0,function(){return K(this,function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.signTransaction(e)];case 1:return[2,n.sent()]}})})},s.prototype.signAllTransactions=function(e){return C(this,void 0,void 0,function(){return K(this,function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.signAllTransactions(e)];case 1:return[2,n.sent()]}})})},s.prototype.signMessage=function(e,n){return n===void 0&&(n="hex"),C(this,void 0,void 0,function(){var i;return K(this,function(r){switch(r.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.sign(e,n)];case 1:return i=r.sent().signature,[2,Uint8Array.from(i)]}})})},s})(F),le=(function(){var l=function(s,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},l(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");l(s,e);function n(){this.constructor=s}s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}})(),U=function(l,s,e,n){function i(r){return r instanceof e?r:new e(function(h){h(r)})}return new(e||(e=Promise))(function(r,h){function f(o){try{t(n.next(o))}catch(a){h(a)}}function u(o){try{t(n.throw(o))}catch(a){h(a)}}function t(o){o.done?r(o.value):i(o.value).then(f,u)}t((n=n.apply(l,s||[])).next())})},L=function(l,s){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,i,r,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(t){return function(o){return u([t,o])}}function u(t){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(r=t[0]&2?i.return:t[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,t[1])).done)return r;switch(i=0,r&&(t=[t[0]&2,r.value]),t[0]){case 0:case 1:r=t;break;case 4:return e.label++,{value:t[1],done:!1};case 5:e.label++,i=t[1],t=[0];continue;case 7:t=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(t[0]===6||t[0]===2)){e=0;continue}if(t[0]===3&&(!r||t[1]>r[0]&&t[1]<r[3])){e.label=t[1];break}if(t[0]===6&&e.label<r[1]){e.label=r[1],r=t;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(t);break}r[2]&&e.ops.pop(),e.trys.pop();continue}t=s.call(l,e)}catch(o){t=[6,o],i=0}finally{n=r=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}},fe=(function(l){le(s,l);function s(e,n){var i=l.call(this)||this;return i._provider=e,i._network=n,i}return Object.defineProperty(s.prototype,"publicKey",{get:function(){return this._provider.publicKey},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"connected",{get:function(){return this._provider.isConnected},enumerable:!1,configurable:!0}),s.prototype.connect=function(){return U(this,void 0,void 0,function(){var e;return L(this,function(n){switch(n.label){case 0:if(n.trys.push([0,2,,3]),this.connected)throw new Error("Wallet already connected");return[4,this._provider.connect()];case 1:return n.sent(),this.emit("connect"),[3,3];case 2:throw e=n.sent(),this.emit("disconnect"),e;case 3:return[2]}})})},s.prototype.disconnect=function(){return U(this,void 0,void 0,function(){return L(this,function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._provider.disconnect()];case 1:return e.sent(),this.emit("disconnect"),[2]}})})},s.prototype.signTransaction=function(e){return U(this,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._provider.signTransaction(e,this._network)];case 1:return[2,n.sent()]}})})},s.prototype.signAllTransactions=function(e){return U(this,void 0,void 0,function(){return L(this,function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._provider.signAllTransactions(e,this._network)];case 1:return[2,n.sent()]}})})},s.prototype.signMessage=function(e){return U(this,void 0,void 0,function(){var n;return L(this,function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");if(!(e instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");return[4,this._provider.signMessage(e)];case 1:return n=i.sent().signature,[2,n]}})})},s})(F),he=(function(){var l=function(s,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},l(s,e)};return function(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");l(s,e);function n(){this.constructor=s}s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}})(),S=function(l,s,e,n){function i(r){return r instanceof e?r:new e(function(h){h(r)})}return new(e||(e=Promise))(function(r,h){function f(o){try{t(n.next(o))}catch(a){h(a)}}function u(o){try{t(n.throw(o))}catch(a){h(a)}}function t(o){o.done?r(o.value):i(o.value).then(f,u)}t((n=n.apply(l,s||[])).next())})},P=function(l,s){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,i,r,h;return h={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function f(t){return function(o){return u([t,o])}}function u(t){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(r=t[0]&2?i.return:t[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,t[1])).done)return r;switch(i=0,r&&(t=[t[0]&2,r.value]),t[0]){case 0:case 1:r=t;break;case 4:return e.label++,{value:t[1],done:!1};case 5:e.label++,i=t[1],t=[0];continue;case 7:t=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(t[0]===6||t[0]===2)){e=0;continue}if(t[0]===3&&(!r||t[1]>r[0]&&t[1]<r[3])){e.label=t[1];break}if(t[0]===6&&e.label<r[1]){e.label=r[1],r=t;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(t);break}r[2]&&e.ops.pop(),e.trys.pop();continue}t=s.call(l,e)}catch(o){t=[6,o],i=0}finally{n=r=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}},_e=(function(l){he(s,l);function s(e){var n=l.call(this)||this;return n._network="mainnet-beta",n._adapterInstance=null,n._connectHandler=null,n._connected=function(){n._connectHandler&&(n._connectHandler.resolve(),n._connectHandler=null),n.emit("connect",n.publicKey)},n._disconnected=function(){n._connectHandler&&(n._connectHandler.reject(),n._connectHandler=null),n._adapterInstance=null,n.emit("disconnect")},e?.network&&(n._network=e?.network),e?.provider?n._provider=e?.provider:window.salmon?n._provider=window.salmon:n._provider="https://app.salmonwallet.io",n}return Object.defineProperty(s.prototype,"publicKey",{get:function(){var e;return((e=this._adapterInstance)===null||e===void 0?void 0:e.publicKey)||null},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isConnected",{get:function(){var e;return!!(!((e=this._adapterInstance)===null||e===void 0)&&e.connected)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"connected",{get:function(){return this.isConnected},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"autoApprove",{get:function(){return!1},enumerable:!1,configurable:!0}),s.prototype.connect=function(){return S(this,void 0,void 0,function(){var e=this;return P(this,function(n){switch(n.label){case 0:return this.connected?[2]:(typeof this._provider=="string"?this._adapterInstance=new ue(this._provider,this._network):this._adapterInstance=new fe(this._provider,this._network),this._adapterInstance.on("connect",this._connected),this._adapterInstance.on("disconnect",this._disconnected),this._adapterInstance.connect(),[4,new Promise(function(i,r){e._connectHandler={resolve:i,reject:r}})]);case 1:return n.sent(),[2]}})})},s.prototype.disconnect=function(){return S(this,void 0,void 0,function(){return P(this,function(e){switch(e.label){case 0:return this._adapterInstance?[4,this._adapterInstance.disconnect()]:[2];case 1:return e.sent(),[2]}})})},s.prototype.signTransaction=function(e){return S(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signTransaction(e)];case 1:return[2,n.sent()]}})})},s.prototype.signAllTransactions=function(e){return S(this,void 0,void 0,function(){return P(this,function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signAllTransactions(e)];case 1:return[2,n.sent()]}})})},s.prototype.signMessage=function(e,n){return n===void 0&&(n="utf8"),S(this,void 0,void 0,function(){return P(this,function(i){switch(i.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signMessage(e,n)];case 1:return[2,i.sent()]}})})},s.prototype.sign=function(e,n){return n===void 0&&(n="utf8"),S(this,void 0,void 0,function(){return P(this,function(i){switch(i.label){case 0:return[4,this.signMessage(e,n)];case 1:return[2,i.sent()]}})})},s})(B);export{_e as default};
