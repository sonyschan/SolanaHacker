import{B as h,f as r,h as o}from"./adapter-nV8hnADv.js";function d(s){return"version"in s}class f extends h{async sendTransaction(e,n,t={}){let i=!0;try{if(d(e)){if(!this.supportedTransactionVersions)throw new r("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new r(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const a=e.serialize();return await n.sendRawTransaction(a,t)}catch(a){throw a instanceof o?(i=!1,a):new r(a?.message,a)}}else try{const{signers:a,...c}=t;e=await this.prepareTransaction(e,n,c),a?.length&&e.partialSign(...a),e=await this.signTransaction(e);const l=e.serialize();return await n.sendRawTransaction(l,c)}catch(a){throw a instanceof o?(i=!1,a):new r(a?.message,a)}}catch(a){throw i&&this.emit("error",a),a}}async signAllTransactions(e){for(const t of e)if(d(t)){if(!this.supportedTransactionVersions)throw new o("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new o(`Signing transaction version ${t.version} isn't supported by this wallet`)}const n=[];for(const t of e)n.push(await this.signTransaction(t));return n}}class g extends f{}class S extends g{}const A="solana:signAndSendTransaction",u="solana:signMessage",p="solana:signTransaction",I="standard:connect",m="standard:disconnect",N="standard:events",$="solana:mainnet",v="solana:devnet",y="solana:testnet",E="solana:localnet";function x(s){const e=T(s);return new TextEncoder().encode(e)}function T(s){let e=`${s.domain} wants you to sign in with your Solana account:
`;e+=`${s.address}`,s.statement&&(e+=`

${s.statement}`);const n=[];if(s.uri&&n.push(`URI: ${s.uri}`),s.version&&n.push(`Version: ${s.version}`),s.chainId&&n.push(`Chain ID: ${s.chainId}`),s.nonce&&n.push(`Nonce: ${s.nonce}`),s.issuedAt&&n.push(`Issued At: ${s.issuedAt}`),s.expirationTime&&n.push(`Expiration Time: ${s.expirationTime}`),s.notBefore&&n.push(`Not Before: ${s.notBefore}`),s.requestId&&n.push(`Request ID: ${s.requestId}`),s.resources){n.push("Resources:");for(const t of s.resources)n.push(`- ${t}`)}return n.length&&(e+=`

${n.join(`
`)}`),e}export{S as B,I as S,N as a,A as b,p as c,$ as d,v as e,y as f,E as g,T as h,u as i,m as j,d as k,g as l,f as m,x as n};
