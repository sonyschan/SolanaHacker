import{E as l}from"./index-CAfjtnzH.js";class r extends Error{constructor(t,s){super(t),this.error=s}}class d extends r{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class m extends r{constructor(){super(...arguments),this.name="WalletLoadError"}}class p extends r{constructor(){super(...arguments),this.name="WalletConfigError"}}class E extends r{constructor(){super(...arguments),this.name="WalletConnectionError"}}class g extends r{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class h extends r{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class W extends r{constructor(){super(...arguments),this.name="WalletAccountError"}}class f extends r{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class i extends r{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class x extends r{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class C extends r{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class y extends r{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class v extends r{constructor(){super(...arguments),this.name="WalletSignInError"}}class w extends r{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}var a;(function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"})(a||(a={}));class L extends l{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,s,n={}){const o=this.publicKey;if(!o)throw new i;return t.feePayer=t.feePayer||o,t.recentBlockhash=t.recentBlockhash||(await s.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}}function S(e){if(typeof window>"u"||typeof document>"u")return;const t=[];function s(){if(e())for(const c of t)c()}const n=setInterval(s,1e3);t.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",s,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",s))),document.readyState!=="complete"&&(window.addEventListener("load",s,{once:!0}),t.push(()=>window.removeEventListener("load",s))),s()}function b(){if(!navigator)return!1;const e=navigator.userAgent.toLowerCase(),t=e.includes("iphone")||e.includes("ipad"),s=e.includes("safari");return t&&s}export{L as B,r as W,a,f as b,E as c,d,y as e,x as f,i as g,C as h,g as i,h as j,W as k,p as l,v as m,m as n,b as o,w as p,S as s};
